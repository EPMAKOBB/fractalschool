

## üì¶ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞**

### 1. **attempts**

| –ü–æ–ª–µ        | –¢–∏–ø                      | Not Null | Default             | –û–ø–∏—Å–∞–Ω–∏–µ           |
| ----------- | ------------------------ | -------- | ------------------- | ------------------ |
| id          | uuid                     | ‚úÖ        | gen\_random\_uuid() | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π     |
| variant\_id | uuid                     | ‚úÖ        |                     | FK ‚Üí variants(id)  |
| user\_id    | uuid                     | ‚úÖ        |                     | FK (‚Üí users.id?)   |
| answer      | text                     | ‚úÖ        |                     | –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| is\_correct | boolean                  | ‚úÖ        |                     | –í–µ—Ä–Ω–æ/–ù–µ–≤–µ—Ä–Ω–æ      |
| created\_at | timestamp with time zone | ‚úÖ        | now()               | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è     |

* **PK:** id
* **FK:** variant\_id ‚Üí variants(id)

---

### 2. **inf-ege**

| –ü–æ–ª–µ        | –¢–∏–ø                      | Not Null | Default | –û–ø–∏—Å–∞–Ω–∏–µ      |
| ----------- | ------------------------ | -------- | ------- | ------------- |
| id          | integer                  | ‚úÖ        |         | PK            |
| created\_at | timestamp with time zone | ‚úÖ        | now()   | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| task\_id    | text                     |          |         |               |
| task\_type  | smallint                 |          |         |               |
| difficulty  | smallint                 |          |         |               |
| status      | text                     |          |         |               |
| statement   | text                     |          |         |               |
| answer      | json                     |          |         |               |
| solution    | text                     |          |         |               |
| theme       | text                     |          |         |               |

* **PK:** id

---

### 3. **users**

| –ü–æ–ª–µ        | –¢–∏–ø                         | Not Null | Default   | –û–ø–∏—Å–∞–Ω–∏–µ       |
| ----------- | --------------------------- | -------- | --------- | -------------- |
| id          | uuid                        | ‚úÖ        |           | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| email       | text                        | ‚úÖ        |           |                |
| name        | text                        |          |           |                |
| role        | text                        |          | 'student' |                |
| created\_at | timestamp without time zone |          | now()     |                |

* **PK:** id

---

### 4. **variants**

| –ü–æ–ª–µ           | –¢–∏–ø                      | Not Null | Default             | –û–ø–∏—Å–∞–Ω–∏–µ             |
| -------------- | ------------------------ | -------- | ------------------- | -------------------- |
| id             | uuid                     | ‚úÖ        | gen\_random\_uuid() | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π       |
| task\_meta\_id | uuid                     | ‚úÖ        |                     | FK ‚Üí tasks\_meta(id) |
| params         | jsonb                    | ‚úÖ        |                     | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏  |
| statement      | text                     | ‚úÖ        |                     | –£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏       |
| solution       | jsonb                    | ‚úÖ        |                     | –†–µ—à–µ–Ω–∏–µ (—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ) |
| created\_at    | timestamp with time zone | ‚úÖ        | now()               | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è        |
| solution\_text | text                     |          |                     | –†–µ—à–µ–Ω–∏–µ (—Ç–µ–∫—Å—Ç)      |

* **PK:** id
* **FK:** task\_meta\_id ‚Üí tasks\_meta(id)

---

### 5. **tasks\_meta**

| –ü–æ–ª–µ | –¢–∏–ø     | Not Null | Default | –û–ø–∏—Å–∞–Ω–∏–µ    |
| ---- | ------- | -------- | ------- | ----------- |
| id   | integer | ‚úÖ        |         | PK          |
| ...  | ...     |          |         | (–¥–æ–ø–æ–ª–Ω–∏—Ç—å) |

* **PK:** id
* (–¥–æ–ø–æ–ª–Ω–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)

---

## üîó **–í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ (Foreign keys)**

| –¢–∞–±–ª–∏—Ü–∞  | –ü–æ–ª–µ           | –°—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞    |
| -------- | -------------- | --------------- |
| variants | task\_meta\_id | tasks\_meta(id) |
| attempts | variant\_id    | variants(id)    |

---

